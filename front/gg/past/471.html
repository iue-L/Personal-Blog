<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta name="referrer" content="no-referrer"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> HeannyBlog | 个人博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="浪子"/>
    <meta name="keywords"
          content="浪子"/>
    <!-- Facebook and Twitter integration -->
    <meta property="og:title" content=""/>
    <meta property="og:image" content=""/>
    <meta property="og:url" content=""/>
    <meta property="og:site_name" content=""/>
    <meta property="og:description" content=""/>
    <meta name="twitter:title" content=""/>
    <meta name="twitter:image" content=""/>
    <meta name="twitter:url" content=""/>
    <meta name="twitter:card" content=""/>
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">
    <!-- Animate.css -->
    <link rel="stylesheet" href="/gg/css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="/gg/css/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="/gg/css/bootstrap.css">
    <!-- Flexslider  -->
    <link rel="stylesheet" href="/gg/css/flexslider.css">
    <!-- Theme style  -->
    <link rel="stylesheet" href="/gg/css/style.css">
    <link rel="stylesheet" href="/gg/css/blog.css">
    <link rel="stylesheet" href="/gg/css/loading.css">
    <link rel="stylesheet" href="/gg/css/page_style.css">
    <!-- Modernizr JS -->
    <script src="/gg/js/host.js"></script>
    <script src="/gg/js/vue-2.5.16.js"></script>
    <script src="/gg/js/axios-0.18.0.min.js"></script>
    <script src="/gg/js/modernizr-2.6.2.min.js"></script>
    <script>
        var t={
       getQueryString:function(name){
          var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
          var r = window.location.search.substr(1).match(reg);
          if(r!=null)
            return  decodeURI(r[2]);
            return null;
       }
   }

        var cityId=t.getQueryString("id");//城市id
        var user_id = sessionStorage.user_id || localStorage.user_id;
        var token = sessionStorage.token || localStorage.token;
        if (!(user_id && token)) {
            location.href = '/gg/login.html?next=/gg/past/'+cityId+'.html?id='+cityId;
        }
    </script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div id="fh5co-page" >
    <div class="app" v-cloak>
    <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
    <aside id="fh5co-aside" role="complementary" class="border js-fullheight">
        <h1 id="fh5co-logo"><a href="/gg/blogs.html">HEANNY.CN</a></h1>
        <nav id="fh5co-main-menu" role="navigation">
            <ul >
                   <li class="index_li"><a href="/gg/blogs.html">Home</a></li>
                <li class="blog_li"><a href="/gg/blog.html">
                        Blog<span class="badge blogNum">[[counts]]</span>
                    </a></li>


                <li class="gbook_li"><a href="/gg/gbook.html" title="留言">
                        Gbook<span class="badge gbookNum">[[quantity]]</span>
                    </a></li>

                <li class="login_li"><a href="/gg/login.html">Sign In</a></li>
              <li id='user_li'><a href='/gg/user.html' title='用户中心'>[[ name ]]</a></li>
                <li id ='logo_li'><a href='#' @click="logout" title='注销'>LOGOUT</a> </li></ul></ul>
        </nav>
        <div class="fh5co-footer">

            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <ul>
                <li>
                    <a href="#" target="_blank" id="Twitter" data-toggle="tooltip" data-placement="top" title="Twitter">
                        <i class="icon-twitter2"></i></a>
                </li>
                <li>
                    <a href="http://weibo.com/hua199501" target="_blank" id="WeiBo" data-toggle="tooltip"
                       data-placement="top"
                       title="WeiBo">
                        <i class="icon-sina-weibo"></i></a>
                </li>
                <li>
                    <a href="#" target="_blank" id="Linkedin" data-toggle="tooltip" data-placement="top"
                       title="Linkedin">
                        <i class="icon-linkedin22"></i></a>
                </li>
                <li>
                    <a href="https://github.com/beichenyulu" target="_blank" id="Github" data-toggle="tooltip"
                       data-placement="top" title="Github">
                        <i class="icon-github"></i></a>
                </li>
            </ul>
        </div>

    </aside>

    <div id="fh5co-main">
        <aside id="fh5co-hero">
            <!--正文-->
            <div class=" col-padding animate-box fadeInLeft animated post_body" id="P_note_box">
                <div class="row">
                                            <div class="col-md-8">
                            <div class="blog_title">
                                <h1 class="fh5co-heading-colored animate-box" style="    padding-top: 10px;">
                                                                        windows下在iis部署django项目 <a class="blog_collect" href="javascript:collect(-1)"><img src="/images/collect.png" alt=""></a>                                </h1>
                                <div class="animate-box fadeInLeft"
                                     style="    padding-left: 20px;    padding-top: 10px;">
                                    <span class="dtime" style="padding-left: 15px ">2019-04-11</span>
                                    <span class="viewnum" style="padding-left: 15px ;margin-left: 30px;">
									5810							</span>
                                </div>
                                <div class="cloud ">
                                    <ul style="padding-top: 0 !important;">
                                        <a href="javascropt:void(0);" class="animate-box">pycharm</a><a href="javascropt:void(0);" class="animate-box">破解</a>                                    </ul>
                                </div>

                            </div>
                            <!--<div class='top_50'></div>-->
                            <div class="col-md-12 col-xs-12 NoteBox" style="background-color: white">
                                <div class="NoteBody animate-box">
                                    <!--?= stripslashes($dataarr->content) ?-->

                                                                       <!--?= stripslashes($dataarr->content) ?-->                                    <h3 id="系统及软件版本"><span style="font-size: 16px;">系统及软件版本</span></h3><h3 id="系统及软件版本"><ul style="margin-left: 30px; font-size: 13.3333px;" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">Windows Server 2012 Standard</span></p></li><li><p><span style="font-size: 16px;">IIS 8.0</span></p></li><li><p><span style="font-size: 16px;">Anaconda3 4.0.0 64位 （搭载python3.5.1）</span></p></li><li><p><span style="font-size: 16px;">Django 2.1.1</span></p></li></ul></h3><h1 id="1-可运行的django网站"><span style="font-size: 16px;">1. 可运行的django网站</span></h1><h3><p><span style="font-size: 16px;">首先确保自己的django网站在服务器上可以通过命令行 runserver 正常运行。&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923234056996" alt="请确保你的Django网站可以在服务器上单独运行哦！" style="max-width: 900px; height: 353px; width: 693px;" width="693" height="353"/></p></h3><h1 id="2-iis配置"><span style="font-size: 16px;">2. IIS配置</span></h1><h3 id="添加角色与功能"><span style="font-size: 16px;">添加角色与功能</span></h3><h3><ol style="padding-left: 40px; font-size: 13.3333px;" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">在服务器管理器中，添加角色与功能&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923232237770" alt="添加角色和功能" style="max-width: 900px; height: 309px; width: 536px;" width="536" height="309"/></p></li><li><p><span style="font-size: 16px;">添加角色与功能，其中CGI组件必须安装。&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923232520754" alt="安装相应的功能" style="max-width: 900px; height: 453px; width: 547px;" width="547" height="453"/></p></li></ol></h3><h1 id="3-python安装wfastcgi模块"><span style="font-size: 16px;">3. Python安装wfastcgi模块</span></h1><h3><p><span style="font-size: 16px;">在python的Scripts目录下pip安装wfastcgi模块（我之前已经安装过了，所以截图提示不需再次安装）&nbsp;</span></p><pre class="brush:diff;toolbar:false"><span style="font-size: 16px;">pip&nbsp;install&nbsp;wfastcgi<br/></span></pre><p><br/></p><p><img title="" src="http://img.blog.csdn.net/20160923233635673" alt="python安装wfastcgi模块" style="max-width: 900px; height: 318px; width: 517px;" width="517" height="318"/></p><p><br/></p></h3><h1 id="4-项目文件处理"><span style="font-size: 16px;">4. 项目文件处理</span></h1><h3><ol style="padding-left: 40px; font-size: 13.3333px;" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">在python的Libsite-packages目录下，找到wfastcgi.py文件，并将其复制到你的django项目根目录下。&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923234452825" alt="复制该文件" style="max-width: 900px; height: 305px; width: 655px;" width="655" height="305"/><span style="font-size: 16px;">&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923234554919" alt="将这个文件复制到项目根目录" style="max-width: 900px; height: 322px; width: 645px;" width="645" height="322"/></p></li><li><p><span style="font-size: 16px;">将项目文件放置到 C:inetpubwwwroot 目录下，方便管理，同时可以避免引起Windows Server的某些安全问题。&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923235451585" alt="这里写图片描述" style="max-width: 900px; height: 240px; width: 591px;" width="591" height="240"/></p></li></ol></h3><h1 id="5-配置网站"><span style="font-size: 16px;">5. 配置网站</span></h1><h3><ol style="padding-left: 40px; font-size: 13.3333px;" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">进入IIS管理器后，添加网站&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923235133625" alt="这里写图片描述" style="max-width: 900px; height: auto;"/></p></li><li><p><span style="font-size: 16px;">填写相关参数&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923235651681" alt="这里写图片描述" style="max-width: 900px; height: 339px; width: 507px;" width="507" height="339"/></p></li><li><p><span style="font-size: 16px;">进入你建立的站点，选择处理程序映射。请注意，必须进入你指定的网站里面，再添加模块映射，否则，映射会添加到你所有的网站里。&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160923235936393" alt="这里写图片描述" style="max-width: 900px; height: 304px; width: 690px;" width="690" height="304"/></p></li><li><p><span style="font-size: 16px;">添加模块映射。模块选择FastCgiModule，</span></p><p><span style="font-size: 16px;">如果前面没有安装这个模块，请先安装哦。(在第2大步骤已安装)</span></p><p><span style="font-size: 16px;">可执行文件对于本项目来说，实际上是必填的。此例中，C:Anaconda3python.exe|C:inetpubwwwrootPowerXwfastcgi.py。</span></p><p><span style="font-size: 16px;">（如果是带空格的，需要添加双引号，<span style="font-size: 16px; color: rgb(255, 0, 0);">python.exe路径 |&nbsp;项目路径wfastcgi.py</span>）</span></p><p><span style="font-size: 16px;">前面是python的路径，后面是wfastcgi.py文件的路径。实际上，如果wfastcgi.py文件路径直接引用pythonLibsite-packages目录下的文件也可以，不过就不可以部署多个Django网站了。&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160924000357801" alt="这里写图片描述" style="max-width: 900px; height: 238px; width: 594px;" width="594" height="238"/></p></li><li><p><span style="font-size: 16px;">填写完参数后，选择请求控制，设置如图 (取消复选框)<br/></span><img title="" src="http://img.blog.csdn.net/20160924001020056" alt="这里写图片描述" style="max-width: 900px; height: 123px; width: 584px;" width="584" height="123"/></p></li><li><p><span style="font-size: 16px;">确认添加后，程序映射添加成功&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160924001220543" alt="这里写图片描述" style="max-width: 900px; height: 243px; width: 581px;" width="581" height="243"/></p></li><li><p><span style="font-size: 16px;">返回主页，进入FastCGI设置&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160924001324057" alt="这里写图片描述" style="max-width: 900px; height: 229px; width: 584px;" width="584" height="229"/></p></li><li><p><span style="font-size: 16px;">选中新建的FastCGI应用程序，修改环境变量&nbsp;<br/></span><img title="" src="http://img.blog.csdn.net/20160924001638996" alt="这里写图片描述" style="max-width: 900px; height: 233px; width: 583px;" width="583" height="233"/></p></li><li><p><span style="font-size: 16px;">需要添加的变量有3个：</span></p><p><span style="font-size: 16px;">Name: DJANGO_SETTINGS_MODULE</span></p><p><span style="font-size: 16px;">Value: powerx.settings&nbsp; &nbsp; <span style="font-size: 16px; color: rgb(255, 0, 0);">（项目名的settings）</span></span></p><p><br/></p><p><span style="font-size: 16px;">Name: PYTHONPATH</span></p><p><span style="font-size: 16px;">Value: C:inetpubwwwrootPowerX&nbsp; &nbsp;<span style="font-size: 16px; color: rgb(255, 0, 0);">（项目路径）</span></span></p><p><br/></p><p><span style="font-size: 16px;">Name: WSGI_HANDLER</span></p><p><span style="font-size: 16px;">Value: django.core.wsgi.get_wsgi_application()</span></p><p><br/></p></li><ol style="list-style-type: lower-alpha;" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">get_wsgi_application()方法的位置，C:Anaconda3Libsite-packagesdjangocorewsgi.py</span></p></li><li><p><span style="font-size: 16px;">Django项目目录</span></p></li><li><p><span style="font-size: 16px;">项目settings.py文件的位置</span></p></li></ol></ol><p><span style="font-size: 16px;">至此，一个不带static静态文件的Django项目就可以在服务器上运行啦！！！</span></p><p><br/></p><p><span style="font-size: 16px;">&nbsp;</span></p><p><span style="font-size: 16px;">如果你看到页面没有css样式了，应该是找不到静态文件，</span></p><p><span style="font-size: 16px;">那就在url.py中写入</span></p><pre class="brush:python;toolbar:false"><span style="font-size: 16px;">from django.views.static import serve<br/>urlpatterns = [<br/> &nbsp; &nbsp;# url(r&#39;^static/(?P&lt;path&gt;.*)$&#39;, serve, {&#39;document_root&#39;: STATIC_ROOT, }),<br/> &nbsp; &nbsp;url(r&#39;^static/(?P&lt;path&gt;.*)$&#39;, django.views.static.serve, {&#39;document_root&#39;: STATIC_ROOT, }),<br/> &nbsp; &nbsp;]<br/></span></pre><p><br/></p></h3>                                    <br/>                                    <wb:share-button appkey="4275131013" addition="simple" type="button"                                                     ralateUid="2247236875"></wb:share-button>                                




                            </div>
                            </div>
                            <!--相邻文章-->
                            <div class="fh5co-narrow-content animate-box" data-animate-effect="fadeInLeft"
                                 style="padding: 4em 0 0 0;">
                                <h4><a href="#" ></a></h4><h4><a href="#" ></a></h4>                            </div>
                            <!--相邻文章 end-->
                            <!--全部评论-->
                            <div class="fh5co-narrow-content animate-box" data-animate-effect="fadeInLeft"
                                 id="P_comments"
                                 style="padding: 1em 0 !important;">
                                <div class="row">
                                    <div class="CommentJq">
                                        <ul v-if="stack" class="list  animate-box linlimeng" data-animate-effect="fadeInLeft">

                                            <li v-for="value in stack" class="animate-box col-xs-12 col-md-12 fadeInLeft animated"
                                                        data-animate-effect="fadeInLeft"
                                                        id="P_com_0">
                                                        <div class="col-md-2 col-xs-2 col-lg-2">
                                                            <img :src="value.user.head" style="height: 4em;width: 4em;"
                                                                 class="img-circle"/>
                                                        </div>
                                                        <div class="col-md-10 col-xs-10 col-lg-10" style=";position: relative;">
                                                            <a>[[value.user.name]]</a>
                                                            <small style="margin-left: 1em">[[value.time]]</small>
                                                            <p style="margin: 10px auto">[[value.text]]
</p>
                                                        </div>
                                                    </li>


                                        </ul>
                                        <ul v-else class="list  animate-box" data-animate-effect="fadeInLeft">

                                        </ul>
                                        <div class="more col-xs-8 col-md-10  animate-box " style="display: none;"
                                             id="ComMore"
                                             data-animate-effect="fadeInLeft">
                                            <a href="javascript:void (0);" onClick="CommentJq.loadMore();">加载更多</a>
                                        </div>
                                        <div class="comment_box animate-box" data-animate-effect="fadeInLeft"
                                             id="P_comment_box">
                                            <h4>Submit your comments</h4>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                <textarea name="" id="P_message" v-model="commentss" cols="30" rows="7" class="form-control"
                                                          placeholder="Comment"></textarea>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="button" @click='comments'
                                                               class="btn btn-primary btn-md" value="评论" >
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4" >
                            <div class="about animate-box"
                                 style="background:#FFF url(/images/banner4.png) no-repeat top center">
                                <div class="avatar"><img :src="head"
                                                         class="img-circle " alt=""></div>
                                <p class="abname"><span class="about_name">Heanny</span> |
                                    <span class="about_user">[[name]]</span>
                                </p>
                                <p class="abposition">[[profession]]</p>
                                <div class="abtext"><p style="text-align: center">[[ introduce]]</p>
                                </div>
                            </div>
                            <div class="relevant animate-box">
                                <div style="margin-left: 1em">
                                    <h3 class="articles">
                                        相关文章
                                    </h3>
                                    <ul class="articles_title ">
                                        无                                    </ul>
                                </div>
                            </div>
                        </div>
                                        </div>
            </div>
            <!--正文 end-->
        </aside>
    </div>
</div>

<!-- jQuery -->
<script src="/gg/js/jquery.min.js"></script>
<script src="/http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
<!-- jQuery Easing -->
<script src="/gg/js/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="/gg/js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="/gg/js/jquery.waypoints.min.js"></script>
<!-- Flexslider -->
<script src="/gg/js/jquery.flexslider-min.js"></script>

<!-- MAIN JS -->


<script src="/gg/js/user.js"></script>
<!--加载动画啊啊啊啊 -->
<script>
    function loadMorePc() {
        $('#P_comments ul li').show();
        $('#P_comments ul h4').hide();
    }
</script>
<!--加载js-->
    </div>
</body>
</html>


